---
title: "EventStorming: Como Descobrir e Modelar Dom√≠nios Complexos com Post-its"
date: '2023-10-02'
language: pt-BR
tags: ['desenvolvimento', 'organiza√ß√£o',  'planejamento']
images: ['/static/blog/event-storming.webp']
authors: ['andrevieira']
draft: false
layout: PostBanner
summary: "O EventStorming √© uma t√©cnica de design colaborativo que usa post-its coloridos para representar eventos, comandos, atores, agregados e sistemas externos que ocorrem em um dom√≠nio de neg√≥cio."
canonicalUrl: https://andreluizv.dev.br/blog/eventstorming-como-descobrir-e-modelar-dom√≠nios-complexos-com-post-its
---

O EventStorming √© uma t√©cnica de design colaborativo que usa post-its coloridos para representar eventos, comandos, atores, agregados e sistemas externos que ocorrem em um dom√≠nio de neg√≥cio.

O objetivo do EventStorming √© facilitar a comunica√ß√£o entre desenvolvedores e especialistas de dom√≠nio, permitindo que eles explorem e entendam o problema de forma visual e interativa.

Neste artigo, vamos ver como aplicar o EventStorming no contexto do Domain Driven Design (DDD), uma abordagem que visa criar software baseado no conhecimento profundo do dom√≠nio e na colabora√ß√£o entre as partes interessadas.

# Introdu√ß√£o
O DDD √© uma filosofia de desenvolvimento de software que se concentra na linguagem ub√≠qua, nos modelos de dom√≠nio, nos contextos delimitados e nos padr√µes estrat√©gicos e t√°ticos.

A linguagem ub√≠qua √© o vocabul√°rio comum e consistente que √© usado por todos os envolvidos no projeto, desde os usu√°rios finais at√© os desenvolvedores. A linguagem ub√≠qua ajuda a evitar ambiguidades e mal-entendidos, e a expressar as regras de neg√≥cio de forma clara e precisa.

Os modelos de dom√≠nio s√£o as representa√ß√µes conceituais do problema que o software deve resolver. Os modelos de dom√≠nio s√£o compostos por entidades, valores, servi√ßos, m√≥dulos e reposit√≥rios. Os modelos de dom√≠nio devem refletir a linguagem ub√≠qua e ser validados pelos especialistas de dom√≠nio.

Os contextos delimitados s√£o as fronteiras l√≥gicas que separam os diferentes subdom√≠nios do dom√≠nio principal. Cada contexto delimitado tem seu pr√≥prio modelo de dom√≠nio, sua pr√≥pria linguagem ub√≠qua e suas pr√≥prias regras de neg√≥cio. Os contextos delimitados permitem modularizar e isolar o sistema em partes independentes e coerentes.

Os padr√µes estrat√©gicos e t√°ticos s√£o as solu√ß√µes gen√©ricas para os problemas comuns que surgem ao aplicar o DDD. Os padr√µes estrat√©gicos tratam da organiza√ß√£o dos contextos delimitados e da comunica√ß√£o entre eles. Alguns exemplos de padr√µes estrat√©gicos s√£o: mapa de contexto, anti-corrup√ß√£o camada, contexto compartilhado, cliente/servidor, publicador/assinante e conformista. Os padr√µes t√°ticos tratam da implementa√ß√£o dos modelos de dom√≠nio dentro dos contextos delimitados. Alguns exemplos de padr√µes t√°ticos s√£o: entidade, valor, agregado, raiz de agregado, servi√ßo de dom√≠nio, servi√ßo de aplica√ß√£o, reposit√≥rio, f√°brica, especifica√ß√£o e evento de dom√≠nio.

<div align='center'>
    <Image
        src="/static/blog/event-storming-secondary.webp"
        alt="OWASP: Princ√≠pios em A√ß√£o: Fortalecendo Nossas Defesas"
        width={600}
        height={550}
    />
</div>


## Exemplos
Para ilustrar como o EventStorming pode auxiliar no DDD, vamos usar um exemplo simples de um sistema de reserva de hot√©is. O sistema deve permitir que os clientes pesquisem hot√©is dispon√≠veis em uma determinada cidade e data, fa√ßam reservas online e paguem com cart√£o de cr√©dito ou boleto banc√°rio.

## EventStorming para descobrir o dom√≠nio
O primeiro passo √© realizar uma sess√£o de EventStorming para descobrir o dom√≠nio do sistema de reserva de hot√©is. Para isso, precisamos reunir os desenvolvedores e os especialistas de dom√≠nio em uma sala ampla com uma parede ou quadro branco vazio. Tamb√©m precisamos providenciar post-its coloridos, canetas e fita adesiva.

A sess√£o come√ßa com a defini√ß√£o do objetivo do sistema: permitir que os clientes reservem hot√©is online. Em seguida, os participantes come√ßam a escrever em post-its laranjas os eventos mais importantes que acontecem no sistema, usando verbos no passado. Por exemplo: ‚ÄúCliente pesquisou hot√©is‚Äù, ‚ÄúCliente selecionou hotel‚Äù, ‚ÄúCliente fez reserva‚Äù, ‚ÄúCliente pagou com cart√£o‚Äù, ‚ÄúCliente pagou com boleto‚Äù, ‚ÄúReserva confirmada‚Äù, ‚ÄúReserva cancelada‚Äù, etc.

Os post-its laranjas s√£o colados na parede em ordem cronol√≥gica, formando uma linha do tempo dos eventos. Os participantes podem discutir e questionar os eventos, buscando esclarecer as regras de neg√≥cio, as restri√ß√µes, as exce√ß√µes e as varia√ß√µes. Os post-its podem ser movidos, adicionados, removidos ou agrupados conforme a necessidade.

Depois de ter uma vis√£o geral dos eventos, os participantes come√ßam a identificar em post-its azuis os comandos que causam os eventos, usando verbos no imperativo. Por exemplo: ‚ÄúPesquisar hot√©is‚Äù, ‚ÄúSelecionar hotel‚Äù, ‚ÄúFazer reserva‚Äù, ‚ÄúPagar com cart√£o‚Äù, ‚ÄúPagar com boleto‚Äù, ‚ÄúConfirmar reserva‚Äù, ‚ÄúCancelar reserva‚Äù, etc.

Os post-its azuis s√£o colados acima dos post-its laranjas correspondentes, formando uma rela√ß√£o de causa e efeito entre os comandos e os eventos. Os participantes podem discutir e questionar os comandos, buscando entender as inten√ß√µes, as motiva√ß√µes, as expectativas e as responsabilidades dos usu√°rios.

Em seguida, os participantes come√ßam a identificar em post-its rosas os atores que emitem ou recebem os comandos e os eventos, usando substantivos. Por exemplo: ‚ÄúCliente‚Äù, ‚ÄúSistema‚Äù, ‚ÄúHotel‚Äù, ‚ÄúOperadora de cart√£o‚Äù, ‚ÄúBanco‚Äù, etc.

Os post-its rosas s√£o colados √† esquerda ou √† direita dos post-its azuis e laranjas correspondentes, formando uma rela√ß√£o de origem e destino entre os atores e as mensagens. Os participantes podem discutir e questionar os atores, buscando entender seus pap√©is, seus interesses, seus comportamentos e suas intera√ß√µes.

Finalmente, os participantes come√ßam a identificar em post-its verdes os agregados que cont√™m ou s√£o afetados pelos eventos, usando substantivos. Por exemplo: ‚ÄúPesquisa‚Äù, ‚ÄúHotel‚Äù, ‚ÄúReserva‚Äù, ‚ÄúPagamento‚Äù, etc.

Os post-its verdes s√£o colados abaixo dos post-its laranjas correspondentes, formando uma rela√ß√£o de pertencimento ou altera√ß√£o entre os agregados e os eventos. Os participantes podem discutir e questionar os agregados, buscando entender suas propriedades, seus estados, seus invariantes e suas transi√ß√µes.

O resultado final √© um mapa visual do dom√≠nio do sistema de reserva de hot√©is, que mostra os eventos, os comandos, os atores, os agregados e as rela√ß√µes entre eles. O mapa pode ser usado como base para definir a linguagem ub√≠qua, os modelos de dom√≠nio e os contextos delimitados do sistema.

## EventStorming para modelar o dom√≠nio
O segundo passo √© realizar uma sess√£o de EventStorming para modelar o dom√≠nio do sistema de reserva de hot√©is. Para isso, precisamos usar o mapa gerado na sess√£o anterior como ponto de partida. Tamb√©m precisamos providenciar post-its amarelos, roxos e cinzas.

A sess√£o come√ßa com a defini√ß√£o dos contextos delimitados do sistema. Para isso, usamos fita adesiva para delimitar as √°reas do mapa que representam subdom√≠nios distintos e independentes. Por exemplo: podemos identificar um contexto delimitado de pesquisa de hot√©is, um contexto delimitado de reserva de hot√©is e um contexto delimitado de pagamento de hot√©is.

Cada contexto delimitado tem seu pr√≥prio modelo de dom√≠nio, sua pr√≥pria linguagem ub√≠qua e suas pr√≥prias regras de neg√≥cio. Dentro de cada contexto delimitado, podemos refinar o modelo de dom√≠nio usando os padr√µes t√°ticos do DDD.

Para isso, usamos post-its amarelos para representar as entidades que possuem identidade √∫nica e ciclo de vida dentro do dom√≠nio. Por exemplo: dentro do contexto delimitado de reserva de hot√©is, podemos identificar a entidade Reserva.

Tamb√©m usamos post-its roxos para representar os valores que possuem apenas atributos imut√°veis e s√£o comparados por igualdade. Por exemplo: dentro do contexto delimitado de reserva de hot√©is, podemos identificar o valor Data.

Al√©m disso, usamos post-its cinzas para representar os servi√ßos que encapsulam opera√ß√µes complexas ou transversais que n√£o pertencem a nenhuma entidade ou valor. Por exemplo: dentro do contexto delimitado de reserva de hot√©is, podemos identificar o servi√ßo ReservaService.

Os post-its amarelos, roxos e cinzas s√£o colados abaixo dos post-its verdes correspondentes, formando uma rela√ß√£o de composi√ß√£o ou associa√ß√£o entre os agregados e os elementos do modelo de dom√≠nio. Os participantes podem discutir e questionar os elementos do modelo de dom√≠nio, buscando definir seus atributos, seus m√©todos, suas valida√ß√µes e suas depend√™ncias.

O resultado final √© um modelo visual do dom√≠nio do sistema de reserva de hot√©is, que mostra os contextos delimitados, os agregados e os elementos do modelo de dom√≠nio. O modelo pode ser usado como base para implementar o c√≥digo do sistema, seguindo os princ√≠pios e as pr√°ticas do DDD.

# Conclus√£o
O EventStorming √© uma t√©cnica poderosa e divertida para descobrir e modelar dom√≠nios complexos com post-its. O EventStorming pode auxiliar no DDD, facilitando a comunica√ß√£o entre desenvolvedores e especialistas de dom√≠nio, permitindo que eles explorem e entendam o problema de forma visual e interativa, definam a linguagem ub√≠qua, os modelos de dom√≠nio e os contextos delimitados do sistema, e apliquem os padr√µes estrat√©gicos e t√°ticos do DDD.

Espero que voc√™ tenha gostado deste artigo sobre o tema ‚ÄúEventStorming: Como Descobrir e Modelar Dom√≠nios Complexos com Post-its‚Äù. Se voc√™ quiser saber mais sobre o EventStorming, recomendo que voc√™ leia o livro ‚ÄúIntroducing EventStorming‚Äù, de Alberto Brandolini, ou visite o site EventStorming.com. Se voc√™ quiser saber mais sobre o DDD, recomendo que voc√™ leia o livro Domain-Driven Design, de Eric Evans, ou visite o site DomainLanguage.com.

Se voc√™ gostou deste artigo, por favor, me siga, compartilhe e deixe sua curtida. Assim, voc√™ me ajuda a divulgar o meu trabalho e a continuar produzindo conte√∫do de qualidade para voc√™. Al√©m disso, voc√™ pode deixar seu coment√°rio com suas d√∫vidas, sugest√µes ou cr√≠ticas. Eu ficarei feliz em ler e responder. Muito obrigado pela sua aten√ß√£o e at√© a pr√≥xima! üòä